{"ast":null,"code":"import _slicedToArray from\"C:/Users/samih/OneDrive/Desktop/PERNWebsite/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/**\r\n * Author: Sami Haddad\r\n * Date Created: 8/23/2022\r\n * Last Modified: 8/24/2022\r\n */import React,{useState,useEffect}from'react';import ReactDOM from'react-dom';import Table from\"react-bootstrap/Table\";import Button from\"react-bootstrap/Button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Database(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),merchants=_useState2[0],setMerchants=_useState2[1];var backend=\"https://pernstack-backend.herokuapp.com/\";useEffect(function(){getMerchant();},[]);function getMerchant(){fetch(\"\".concat(backend)).then(function(response){return response.text();}).then(function(data){setMerchants(data);});}function createMerchant(){var name=prompt('Enter merchant name');var email=prompt('Enter merchant email');fetch(\"\".concat(backend,\"merchants\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:name,email:email})}).then(function(response){return response.text();}).then(function(data){alert(data);getMerchant();});}function deleteMerchant(id){// let id = prompt('Enter merchant id');\nfetch(\"\".concat(backend,\"merchants/\").concat(id),{method:'DELETE'}).then(function(response){return response.text();}).then(function(data){alert(data);getMerchant();});}function editMerchant(id){// let id = prompt('Enter merchant id');\nvar name=prompt('Enter merchant name');var email=prompt('Enter merchant email');// console.log(id);\nfetch(\"\".concat(backend,\"merchants/\").concat(id),{headers:{'Content-Type':'application/json'},method:'PUT',body:JSON.stringify({name:name,email:email})}).then(function(response){return response.text();}).then(function(data){alert(data);getMerchant();});}var tbl=[{id:\"1\",name:\"Anom\",email:\"Male\"},{id:\"2\",name:\"Megha\",email:\"Female\"},{id:\"3\",name:\"Subham\",email:\"Male\"}];function convTable(merchants){var table=JSON.parse(merchants);tbl=table;}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"buttons\",children:/*#__PURE__*/_jsx(Button,{onClick:createMerchant,children:\"Add Merchant\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Table of Merchants\"}),document.addEventListener('DOMContentLoaded',convTable(merchants)),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(Table,{className:\"table table-dark\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tbl&&tbl.map(function(val,key){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:val.id}),/*#__PURE__*/_jsx(\"td\",{children:val.name}),/*#__PURE__*/_jsx(\"td\",{children:val.email}),/*#__PURE__*/_jsxs(\"td\",{className:\"flex\",children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){deleteMerchant(val.id);},children:\"Delete\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){editMerchant(val.id);},children:\"Edit\"})]})]},val.id);})})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","ReactDOM","Table","Button","Database","merchants","setMerchants","backend","getMerchant","fetch","then","response","text","data","createMerchant","name","prompt","email","method","headers","body","JSON","stringify","alert","deleteMerchant","id","editMerchant","tbl","convTable","table","parse","document","addEventListener","map","val","key"],"sources":["C:/Users/samih/OneDrive/Desktop/PERNWebsite/client/src/components/Database.js"],"sourcesContent":["/**\r\n * Author: Sami Haddad\r\n * Date Created: 8/23/2022\r\n * Last Modified: 8/24/2022\r\n */\r\n\r\nimport React, {useState, useEffect} from 'react';\r\nimport ReactDOM from 'react-dom'\r\nimport Table  from \"react-bootstrap/Table\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\n\r\nexport default function Database() {\r\n\r\n    const [merchants, setMerchants] = useState(false);\r\n    const backend = \"https://pernstack-backend.herokuapp.com/\";\r\n\r\n    useEffect(() => {\r\n        getMerchant();\r\n    }, []);\r\n\r\n    function getMerchant() {\r\n        fetch(`${backend}`)\r\n          .then(response => {\r\n            return response.text();\r\n          })\r\n          .then(data => {\r\n            setMerchants(data);\r\n          });\r\n      }\r\n\r\n      function createMerchant() {\r\n        let name = prompt('Enter merchant name');\r\n        let email = prompt('Enter merchant email');\r\n\r\n        fetch(`${backend}merchants`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({name, email}),\r\n        })\r\n          .then(response => {\r\n            return response.text();\r\n          })\r\n          .then(data => {\r\n            alert(data);\r\n            getMerchant();\r\n          });\r\n      }\r\n\r\n      function deleteMerchant(id) {\r\n        // let id = prompt('Enter merchant id');\r\n\r\n        fetch(`${backend}merchants/${id}`, {\r\n          method: 'DELETE',\r\n        })\r\n          .then(response => {\r\n            return response.text();\r\n          })\r\n          .then(data => {\r\n            alert(data);\r\n            getMerchant();\r\n          });\r\n      }\r\n\r\n      function editMerchant(id) {\r\n        // let id = prompt('Enter merchant id');\r\n        let name = prompt('Enter merchant name');\r\n        let email = prompt('Enter merchant email');\r\n\r\n        // console.log(id);\r\n\r\n        fetch(`${backend}merchants/${id}`, {\r\n          \r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          method: 'PUT', \r\n          body: JSON.stringify({name,email}),\r\n        })\r\n          .then(response => {\r\n            return response.text();\r\n          })\r\n          .then(data => {\r\n            alert(data);\r\n            getMerchant();\r\n          });\r\n      }\r\n\r\n      let tbl = [\r\n        { id: \"1\", name: \"Anom\", email: \"Male\" },\r\n        { id: \"2\", name: \"Megha\", email: \"Female\" },\r\n        { id: \"3\", name: \"Subham\", email: \"Male\"},\r\n      ];\r\n\r\n      function convTable(merchants) {\r\n        let table = JSON.parse(merchants);\r\n        tbl = table;\r\n      }\r\n\r\n    return (\r\n    <div>\r\n        <div className=\"buttons\"><Button onClick={createMerchant}>Add Merchant</Button></div>\r\n        \r\n        <br />\r\n        <h3>Table of Merchants</h3>\r\n        {document.addEventListener('DOMContentLoaded', convTable(merchants))}\r\n        <div className=\"table-responsive\">\r\n        <Table className=\"table table-dark\">\r\n        <thead>\r\n            <tr>\r\n            <th>ID</th><th>Name</th><th>Email</th><th>Actions</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {tbl && tbl.map((val, key) => {\r\n            return (\r\n                <tr key={val.id}>\r\n                <td>{val.id}</td>\r\n                <td>{val.name}</td>\r\n                <td>{val.email}</td>\r\n                <td className=\"flex\"><Button onClick={() => {deleteMerchant(val.id)}}>Delete</Button><Button onClick={() => {editMerchant(val.id)}}>Edit</Button></td>\r\n                </tr>\r\n            )})}\r\n        </tbody>\r\n        </Table>\r\n        </div>\r\n    </div>\r\n    )\r\n    \r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}